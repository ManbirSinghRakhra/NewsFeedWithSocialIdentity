var app=angular.module("myNewsFeedApp",[]);app.controller("myNewsFeedController",function(s,o){s.loginSuccessful=!1,s.login=function(){s.loginSuccessful||l.signinRedirect()},s.logout=function(){s.loginSuccessful&&l.signoutRedirect()},s.loginSuccessful=!1,s.profileName="Hi There!",s.proifleEmail="",s.AllNewsFeeds=[],s.PostFeed=function(){if(n(),!s.loginSuccessful)return;o({method:"POST",url:configJs.apiUrl,data:{message:s.NewsFeedText,userName:s.profileName,userEmail:s.profileEmail}}).then(function(e){s.NewsFeedText="",t(),i()},function(e){console.log(e.statusText)})};var e=null,l=null;function i(){n(),o({method:"GET",url:configJs.apiUrl}).then(function(e){s.AllNewsFeeds=e.data},function(e){console.log(e.statusText)})}function t(){n(),s.displayFeedHelpMessage}function n(){s.displayFeedHelpMessage=!1,s.loginSuccessful||(s.displayFeedHelpMessage=!0)}e={authority:configJs.identityUrl,client_id:configJs.client_id,redirect_uri:configJs.redirect_uri,response_type:configJs.response_type,scope:configJs.scope,post_logout_redirect_uri:configJs.post_logout_redirect_uri},(l=new Oidc.UserManager(e)).getUser().then(function(i){s.$apply(function(){var e,l;s.loginSuccessful=!0,null===i&&(s.loginSuccessful=!1),e=i,s.loginSuccessful&&(o.defaults.headers.common.Authorization="Bearer "+e.access_token),l=i,s.loginSuccessful?(s.profileName=l.profile.name,s.profileEmail=l.profile.email):s.profileName="Hi There!"})}),i(),s.CheckNewFeedTextBox=t,s.displayFeedHelpMessage=!1});var url={apiUrl:"http://localhost:5001/api/News",identityUrl:"http://localhost:5000",clientBaseUrl:"http://localhost:5003/"},configJs={apiUrl:url.apiUrl,identityUrl:url.identityUrl,clientBaseUrl:url.clientBaseUrl,response_type:"id_token token",client_id:"NewsFeedJs",scope:"openid profile email NewsFeedApis",redirect_uri:url.clientBaseUrl+"callback.html",post_logout_redirect_uri:url.clientBaseUrl+"index.html"};